# 房产检查预约系统 - 项目计划

## 📋 项目概述
为林乔的房产管理业务打造一个简洁高效的在线预约系统，让租客可以自助预约退房检查时间。

## 🛠 技术栈（轻装上阵）
- **前端框架**: Next.js 14 + TypeScript
- **样式**: Tailwind CSS
- **数据库**: Vercel Postgres（免费版）
- **部署**: Vercel（免费版）
- **邮件**: Vercel内置的邮件API
- **版本控制**: GitHub
- **无需额外工具**: 所有功能基于现有平台实现

## 🎯 核心功能

### 客户端功能
1. **欢迎界面**
   - 温馨的房产相关背景
   - 可关闭的轻柔背景音乐
   - 可编辑的欢迎语
   - 服务流程简介

2. **预约表单**
   - 个人信息：姓名、手机号、邮箱
   - 房产信息：详细地址、邮编
   - 服务类型：期中检查/期末检查/实地看房/连线看房
   - **日期时间联动选择**：
     - 可用日期高亮显示
     - 已被预约的时段灰色显示
     - 不可用日期完全禁用
   - 时间偏好：1.5小时标准时段 + "其他时间"自定义选项
   - **钥匙安排**：客户保留 / 交还给林乔
   - 特殊要求：开放性文本框
   - 备注：额外说明

3. **确认页面**
   - 订单号（格式：INV-JOYA-001）
   - 预约详情摘要
   - 待确认状态说明
   - 可编辑的注意事项
   - 联系方式

### 后台管理功能
1. **时间管理**
   - 设置可用工作日（周一到周日选择）
   - 批量开放/关闭日期范围
   - 单日时段精确管理
   - 已预约时段手动重新开放

2. **订单管理**
   - 订单列表（按状态、日期筛选）
   - 订单详情查看
   - **确认流程**：
     - 待确认 → 已确认（此时发送邮件给客户）
     - 可修改确认时间（基于线下沟通）
   - 状态管理：待确认/已确认/已完成/已取消
   - 订单搜索（按姓名、地址、订单号）

3. **内容管理**
   - 欢迎语编辑器
   - 注意事项编辑器
   - 服务类型管理

## 📱 界面设计原则
- **响应式设计**：完美适配手机和电脑
- **简洁优先**：突出功能，避免复杂装饰
- **直观操作**：清晰的视觉反馈和状态提示
- **温馨专业**：体现房产服务的可靠性

## 🔄 业务流程
1. 客户访问预约页面
2. 填写信息，选择可用时段
3. 提交后获得订单号（待确认状态）
4. 林乔在后台查看订单
5. 林乔确认（可调整时间）后，系统发送确认邮件给客户
6. 服务完成后，更新订单状态

### 订单号生成逻辑
```sql
-- 增加序列表管理连续编号
CREATE SEQUENCE booking_sequence START 1;

-- 订单号生成：INV-JOYA-XXX
-- JOYA: 代表 Joy + A (Always/Amazing)
-- XXX: 三位数字，001开始连续递增
```

## 🎨 色彩设计方案
**主色调**: 深海蓝 (#1e3a8a) - 代表专业可靠  
**辅助色**: 温暖橙 (#f59e0b) - 代表温馨服务  
**背景色**: 珍珠白 (#fefefe) - 简洁清新  
**成功色**: 森林绿 (#059669) - 确认状态  
**警告色**: 琥珀黄 (#d97706) - 待处理  
**禁用色**: 云雾灰 (#9ca3af) - 不可选择

### 订单表 (bookings)
```sql
- id: 主键
- order_number: 订单号（INV-JOYA-XXX，连续递增）
- customer_name: 客户姓名
- phone: 手机号
- email: 邮箱
- address: 房产地址
- postcode: 邮编
- service_type: 服务类型
- preferred_date: 客户选择日期
- preferred_time_slot: 客户选择时段
- confirmed_date: 确认日期
- confirmed_time_slot: 确认时段
- key_arrangement: 钥匙安排
- special_requirements: 特殊要求
- notes: 备注
- status: 状态（pending/confirmed/completed/cancelled）
- created_at: 创建时间
- updated_at: 更新时间
```

### 可用时段表 (available_slots)
```sql
- id: 主键
- date: 日期
- time_slot: 时段
- is_available: 是否可用
- is_booked: 是否已被预约
- booking_id: 关联订单ID（可空）
```

### 系统配置表 (settings)
```sql
- key: 配置键
- value: 配置值
- updated_at: 更新时间
```

## 🚀 开发阶段规划

### 第一阶段：核心功能（MVP）
- [x] 项目初始化和基础架构
- [ ] 客户端预约表单
- [ ] 基础后台管理
- [ ] 订单提交和存储
- [ ] 简单的邮件确认

### 第二阶段：完善体验
- [ ] 日期时间联动逻辑
- [ ] 后台订单管理优化
- [ ] 内容管理功能
- [ ] 响应式设计优化

### 第三阶段：增强功能
- [ ] 数据导出功能
- [ ] 订单统计分析
- [ ] 性能优化
- [ ] 用户体验细节完善

## 📝 部署和维护
- **部署**: 通过GitHub自动部署到Vercel
- **域名**: 可绑定自定义域名
- **维护**: 通过Vercel控制台监控
- **备份**: 定期导出数据库数据

## 💡 未来扩展可能
- 客户自助取消/重新安排
- 短信提醒（可选第三方服务）
- 客户评价系统
- 移动端PWA支持
- 多语言支持（如需要）

## 🎯 成功指标
- 客户预约流程简化至3步内完成
- 后台管理时间减少50%
- 订单处理效率提升
- 客户满意度提升

---

*项目负责人: 林乔*  
*技术顾问: 傅时晏*  
*创建日期: 2025年6月7日*